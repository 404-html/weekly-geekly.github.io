<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Out-of-Process Debugger for C ++ in Visual Studio 2019</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Visual Studio 2019 Preview 1 introduces an improved debugger for C ++ that uses an external 64-bit process to allocate its resource-intensive componen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Out-of-Process Debugger for C ++ in Visual Studio 2019</h1><div class="post__text post__text-html js-mediator-article">  Visual Studio 2019 Preview 1 introduces an improved debugger for C ++ that uses an external 64-bit process to allocate its resource-intensive components.  If you have previously had memory problems when debugging C ++ applications, these problems should now be largely resolved using Visual Studio 2019. <br><br>  Below is a practical example of debugging Gears of War 4. <br><br><img src="https://habrastorage.org/webt/uh/mv/jj/uhmvjjkdy2e56odfo3il3gkbm8m.gif"><a name="habracut"></a><br><br><h2>  Prerequisites </h2><br>  When giving feedback, C ++ developers often talked about the problems associated with high memory usage while debugging complex C ++ applications.  Large memory consumption is associated with a huge amount of symbol data, which the debugger should load and show in the debugger window.  Moreover, the volume of this information while working all the time is growing.  Ultimately, the Visual Studio process may fail due to insufficient memory. <br><br>  We have made significant improvements in Visual Studio 2017 to mitigate this problem.  For example, in update 15.6, memory optimization for / Debug: fastlink was introduced, which resulted in a 30% reduction in memory consumption by the debugger.  Since we are trying to avoid this problem in Visual Studio 2019, we moved components with memory usage to a separate 64-bit process. <br><br><h2>  Example from practice: Debugging Gears of War 4 </h2><br>  We worked closely with internal and external partner teams to ensure that the changes we made to the debugger were tested and validated in large real-world applications.  Below we have duplicated the video from cdpv.  It shows a parallel comparison of memory usage between Visual Studio 2017 and Visual Studio 2019 when debugging Gears of War 4, developed by The Coalition.  The memory usage of Visual Studio 2017 increases to 1.3 GB after several minutes of viewing the game code and checking variables.  Visual Studio 2019 provides much better memory usage in the same scenario: the amount of memory used remains at around 285 MB, since symbol data is stored in the 64-bit debugger workflow. <br><br><img src="https://habrastorage.org/webt/uh/mv/jj/uhmvjjkdy2e56odfo3il3gkbm8m.gif"><br><br>  At runtime, everything now works much better too. <br><br><h2>  Unsupported Scripts and Some Known Issues </h2><br><ul><li>  This feature is not supported on 32-bit Windows. </li><li>  Symbols for C ++ / CLI modules are still loaded in-process </li><li>  Outdated C ++ Expression Evaluator add-ins ( <a href="https://code.msdn.microsoft.com/windowsdesktop/Writing-debugger-type-ff6a2fa8">here</a> an example) are not supported in this mode. </li></ul><br>  If you need to continue using the in-process debugger, you can disable the feature by going to the ‚ÄúDebugging‚Äù tab in ‚ÄúTools‚Äù -&gt; ‚ÄúOptions‚Äù and unchecking the ‚ÄúLoad debug symbols for external process‚Äù (native only) box. <br><br><hr><br>  The guys from the <a href="https://t.me/msdevru">Microsoft Developer Community</a> @msdevru, the Microsoft Developer community channel for developers and anyone interested in new technologies helped us prepare this article. </div><p>Source: <a href="https://habr.com/ru/post/433992/">https://habr.com/ru/post/433992/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>