<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FreeBSD plans to upgrade to ZFSonLinux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last week, one of the FreeBSD developers Matt Macy put forward a proposal to use the ZFS implementation from the ZFSonLinux project. Thus, all the req...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FreeBSD plans to upgrade to ZFSonLinux</h1><div class="post__text post__text-html js-mediator-article"><p>  Last week, one of the FreeBSD developers Matt Macy <a href="https://lists.freebsd.org/pipermail/freebsd-current/2018-December/072422.html">put forward a proposal</a> to use the ZFS implementation from the ZFSonLinux project.  Thus, all the required changes for FreeBSD will be immediately integrated into the ZFSonLinux codebase.  This offer has not been completed, a <a href="https://github.com/zfsonfreebsd/ZoF">fork</a> has already been created in which the required improvements are made, and also the approval of ZFSonLinux core developers to include improvements for FreeBSD into a single code base has been obtained. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/34e/996/89b/34e99689bc2390e313c9c18048809285.jpg" alt="image"><br><p>  Is this news positive?  Of course!  The essence is in the concentration of all the developers involved in the OpenZFS project in one place, in one code base. </p><a name="habracut"></a><br><p>  Until now, OpenZFS offered as a reference point the repository of the project Illumos, through which the code should be exchanged between all participants of the collaboration (ZFSonLinux, FreeBSD, Illumos, ZFSonOSX).  It is worth noting that the compatibility between implementations was maintained at the proper level.  But, unfortunately, the porting of changes under the condition that the code is not 100% identical is a very laborious operation. </p><br><p>  The main motivation is the de facto full transition of key developers to the ZFSonLinux project.  Previously, the main organization supporting the Illumos code base was Delphix.  However, at the beginning of this year they <a href="https://www.delphix.com/blog/kickoff-future-eko-2018">decided to migrate to Linux</a> . </p><br><p>  The main life takes place in (oddly enough) the ZFSonLinux project.  For several years, many new features have appeared in it, the main ones: </p><br><ul><li>  Built-in encryption (with the ability to verify the integrity without a key!) </li><li>  Consistent "scrub" - now checking data integrity is carried out in the best way </li><li>  Metadata allocation class - can be allocated to separate media (SSD / NVME): <br><ul><li>  Metadata </li><li>  Deduplication data </li><li>  Blocks smaller than a given size (for example, files up to 4KB in size) </li></ul></li><li>  Large dnodes - optimizations for systems that generate a large number of metadata (designed specifically for Luster) </li><li>  The ARC caching mechanism is redesigned to minimize fragmentation (using the scatter / gather mechanism) </li><li>  Vectorization of the RAIDZ code, vectorization of checksums </li></ul><br><p>  It should be noted that, along with the new functionality, the FreeBSD developers have noted the inclusion of many stabilization edits and deadlocks in ZFSonLinux, which have also not been ported to other projects. </p><br><p>  Hopefully, this step will allow us to further improve the product, as well as concentrate all resources in one single code base. </p><br><p>  Cheers, comrades! </p><br><p>  PS <a href="https://habr.com/post/314506/">Why you might be interested in ZFS.</a> </p></div><p>Source: <a href="https://habr.com/ru/post/434688/">https://habr.com/ru/post/434688/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>