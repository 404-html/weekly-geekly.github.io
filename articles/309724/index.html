<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to use the standard settings to kill the microcontroller. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I wrote about how I managed to turn a microcontroller into a "brick" by setting an unsuccessful combination of settings. The problem ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to use the standard settings to kill the microcontroller. Part 2</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/1cc/989/7a6/1cc9897a66b04ab9af132751bd398718.jpeg" alt="enter image description here"></p><br><p>  Not <a href="https://habrahabr.ru/post/308596/">so long ago,</a> I wrote about how I managed to turn a microcontroller into a "brick" by setting an unsuccessful combination of settings.  The problem was that I accidentally managed to enter into the operation mode ‚Äúon demand‚Äù a generator clocking the controller core.  At the same time, everything was turned off, including the debugging module.  Many people responded to my request and gave me some practical advice and many still ask how it all ended.  So the story has developed quite comically, but it ended very banal.  Details under the cut. </p><a name="habracut"></a><br><p>  So, following the advice of experienced people, we went to re-read the User Manual sections on debugging and controller loading modes.  It turned out that there seems to be a loading mode in which the controller does not start executing the code, but waits for the debugger connection. </p><br><p><img src="https://habrastorage.org/files/b04/95c/b06/b0495cb0669945ebaa3173839aab3919.png" alt="enter image description here"></p><br><p>  It remained the most difficult - to solder to the right pins to properly perform the boot sequence.  The equipment, which allows to do this and not kill the board, is in another office, so it was necessary to go there and give everything to the specialists ... </p><br><p>  But on the day when we were going to take it, something inexplicable happened.  In the evening, the fee was put in a bag, then in a box, and the box was put in a bag.  However, in the morning there was no charge in the bag.  She just disappeared!  We rummaged through the entire bag, all the boxes that we found, turned to the lost and found offices in the buses in which the bag was traveling ... All in vain.  After spending a couple of days searching, we decided to spit on this board and wait until the new ones were made (which is almost 4 weeks).  It‚Äôs good that we managed to continue working with the firmware, since we had an <a href="http://wiki.amperka.ru/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582%25D1%258B:arduinom0">Arduino M0</a> with a similar processor. </p><br><p><img src="https://habrastorage.org/files/3a6/8a4/40a/3a68a440ae2d4fc5820f6bf2b17709f0.jpg" alt="enter image description here"></p><br><p>  At that moment I remembered the anecdote about the Russian and two titanium balls, but it was somehow not funny. </p><br><p>  However, as a result of another brainstorming session, we remembered that before going home with a fee, the tables were cleaned.  We ran to the cabinets with the details, and, having a break from bottom to top, we found the loss in that little bag.  It turned out that someone accidentally at the last moment took the board out of the box and put it away to other parts.  Then the box was closed, put in a bag, etc.  Now the joke was already perceived not so sad. </p><br><p>  As a result, having spent another day soldering the necessary wires, we began to revitalize.  It is worth saying that while we were having fun searching for the board, J-Link came to us.  True, not the original, but a cheap equivalent of an unknown manufacturer. </p><br><p>  So, as it turned out, it was not necessary to even solder anything.  This J-Link immediately saw the microcontroller, although the expensive and more ‚Äúclever‚Äù ULink refused to do it all the time. </p><br><p>  After the unfortunate firmware was erased, everything fell into place and all debuggers were able to connect to the controller without any problems. </p><br><p>  We assume that we were saved by the fact that J-Link can clock the debugging module itself, bypassing the kernel.  I do not know the specifications of SWD and did not understand deeply the difference between J-Link and ULink, but it seems that the cheap analog works better than expensive and sophisticated.  True, at the same time, it regularly burns out ... </p><br><p>  The story ends here.  The board works, the firmware is written.  Thank you all for your help! </p></div><p>Source: <a href="https://habr.com/ru/post/309724/">https://habr.com/ru/post/309724/</a></p>
<section class="all-articles-navigation-panel js-all-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>