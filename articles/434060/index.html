<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Should I save the length of the array to a local variable in C #</title>
  <meta name="description" content="Very often I notice that people write like this: 



var length = array.Length; for (int i = 0; i < length; i++) { //do smth }
 –ü–∏—à—É—Ç –æ–Ω–∏ —ç—Ç–æ –≤ –Ω–∞–¥–µ–∂–¥...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="https://quick-geek.github.io/search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <section class="page js-page"><h1>Should I save the length of the array to a local variable in C #</h1><div class="post__text post__text-html js-mediator-article">  Very often I notice that people write like this: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> length = array.Length;
<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {
    <span class="hljs-comment"><span class="hljs-comment">//do smth</span></span>
}</code></pre><br>
–ü–∏—à—É—Ç –æ–Ω–∏ —ç—Ç–æ –≤ –Ω–∞–¥–µ–∂–¥–µ —É—Å–∫–æ—Ä–∏—Ç—å —Ü–∏–∫–ª, –¥—É–º–∞—è —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞—è –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑–±–∞–≤–ª—è—é—Ç CLR –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≥–µ—Ç—Ç–µ—Ä –¥–ª—è Array.Length. –Ø —Ä–µ—à–∏–ª —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞ –¥–ª—è —Å–µ–±—è –ø–æ–Ω—è—Ç—å —Å—Ç–æ–∏—Ç —Ç–∞–∫ –¥–µ–ª–∞—Ç—å –∏–ª–∏ –º–æ–∂–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å —Å–≤–æ—ë –≤—Ä–µ–º—è –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –±–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.<br>
<a name="habracut"></a><br>
–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –Ω–∞ C#:<br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {
        sum += array[i];
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {
        sum += array[i];
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}</code></pre><br>
–ò –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ JIT –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ —Ä–µ–ª–∏–∑–µ –Ω–∞ .NET Framework 4.7.2 –ø–æ–¥ LegacyJIT-x86:<br>
<table>
<tbody><tr>
<td>WithoutVariable()<br>
<font color="#666666">;int&nbsp;sum&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
<font color="#666666">;int&nbsp;i&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#666666">;int[]&nbsp;localRefToArray&nbsp;=&nbsp;this.array;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray.Length;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;if&nbsp;(arrayLength&nbsp;==&nbsp;0)&nbsp;return&nbsp;sum;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ecx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#666666">;int&nbsp;arrayLength2&nbsp;=&nbsp;localRefToArray.Length;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font>&nbsp;<br>
<font color="#666666">;if&nbsp;(i&nbsp;&gt;=&nbsp;arrayLength2)</font><br>
<font color="#666666">;&nbsp;&nbsp;throw&nbsp;new&nbsp;IndexOutOfRangeException();</font><br>
&nbsp;&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jae</font>&nbsp;&nbsp;056e2d31<br>
<font color="#666666">;sum&nbsp;+=&nbsp;localRefToArray[i];</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#46aa03">esi</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
<font color="#666666">;i++;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><br>
<font color="#666666">;if&nbsp;(i&nbsp;&lt;&nbsp;arrayLength)&nbsp;goto&nbsp;loop</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jg</font>&nbsp;&nbsp;<font color="#00007f">loop</font><br>
<font color="#666666">;return&nbsp;sum;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font></td>
<td>WithVariable()<br>
<font color="#666666">;int&nbsp;sum&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#666666">;int[]&nbsp;localRefToArray&nbsp;=&nbsp;this.array;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray.Length;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;i&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
<font color="#666666">;if&nbsp;(arrayLength&nbsp;==&nbsp;0)&nbsp;return&nbsp;sum;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#666666">;int&nbsp;arrayLength2&nbsp;=&nbsp;localRefToArray.Length;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;if&nbsp;(i&nbsp;&gt;=&nbsp;arrayLength2)</font><br>
<font color="#666666">;&nbsp;&nbsp;throw&nbsp;new&nbsp;IndexOutOfRangeException();</font><br>
&nbsp;&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ecx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jae</font>&nbsp;&nbsp;05902d31<br>
<font color="#666666">;sum&nbsp;+=&nbsp;localRefToArray[i];</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#46aa03">eax</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
<font color="#666666">;i++;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><br>
<font color="#666666">;if&nbsp;(i&nbsp;&lt;&nbsp;arrayLength)&nbsp;goto&nbsp;loop</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jl</font>&nbsp;&nbsp;&nbsp;<font color="#00007f">loop</font><br>
<font color="#666666">;return&nbsp;sum;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font></td>
</tr>
</tbody></table><br>
<div class="spoiler"><b class="spoiler_title">–°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤ Meld</b><div class="spoiler_text"><img src="https://habrastorage.org/webt/gc/4s/mi/gc4smi2gsptfuyqiuwyizrv2q80.png"><br>
</div></div><br>
–ù–µ—Å–ª–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ ‚Äî 15 —à—Ç—É–∫. –ü—Ä–∏—á—ë–º –ª–æ–≥–∏–∫–∞ —ç—Ç–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —Ç–æ–∂–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞–µ—Ç. –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–±–æ–ª—å—à–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤ –ø–æ—Ä—è–¥–∫–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å—Ç–æ–∏—Ç –ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ü–∏–∫–ª. –ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ –∑–∞–Ω–æ—Å–∏—Ç—Å—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä—ã –¥–≤–∞ —Ä–∞–∑–∞ –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º:<br>
<br>
<ul>
<li>—á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ 0 (<b>arrayLength</b>);</li>
<li>–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —É—Å–ª–æ–≤–∏–∏ —Ü–∏–∫–ª–∞ (<b>arrayLength2</b>);</li>
</ul><br>
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –æ–±–∞ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–∞ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥, –Ω–æ –ø–µ—Ä–≤—ã–π –ø–∏—à–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ –∏ —è–≤–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.<br>
<br>
–ü—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–π –≤—ã—à–µ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –Ω–∞–≤—ë–ª –º–µ–Ω—è –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º—ã—Å–ª–∏ –∏ —è —Ä–µ—à–∏–ª –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—â—ë –ø–∞—Ä—É –º–µ—Ç–æ–¥–æ–≤:<br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {
        sum += array[i] + array.Length;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {
        sum += array[i] + length;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}</code></pre><br>
–¢–µ–ø–µ—Ä—å —Å—É–º–º–∏—Ä—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞, —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ —ç—Ç–∏—Ö –º–µ—Ç–æ–¥–æ–≤:<br>
<table>
<tbody><tr>
<td>WithoutVariable()<br>
<font color="#00007f">int</font>&nbsp;sum&nbsp;=&nbsp;<font color="#ff0000">0</font><font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
<font color="#00007f">int</font>&nbsp;i&nbsp;=&nbsp;<font color="#ff0000">0</font><font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#00007f">int</font><font color="#009900">[</font><font color="#009900">]</font>&nbsp;localRefToArray&nbsp;=&nbsp;this<font color="#339933">.</font>array<font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#00007f">int</font>&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray<font color="#339933">.</font>Length<font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ebx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
if&nbsp;<font color="#009900">(</font>arrayLength&nbsp;==&nbsp;<font color="#ff0000">0</font><font color="#009900">)</font>&nbsp;return&nbsp;sum<font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;<font color="#46aa03">ebx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ebx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#00007f">int</font>&nbsp;arrayLength2&nbsp;=&nbsp;localRefToArray<font color="#339933">.</font>Length<font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
if&nbsp;<font color="#009900">(</font>i&nbsp;&gt;=&nbsp;arrayLength2<font color="#009900">)</font><br>
&nbsp;&nbsp;throw&nbsp;new&nbsp;IndexOutOfRangeException<font color="#009900">(</font><font color="#009900">)</font><font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ecx</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jae</font>&nbsp;&nbsp;05562d39<br>
<font color="#00007f">int</font>&nbsp;t&nbsp;=&nbsp;array<font color="#009900">[</font>i<font color="#009900">]</font><font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#46aa03">esi</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
t&nbsp;<font color="#339933">+</font>=&nbsp;sum<font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
t<font color="#339933">+</font>=&nbsp;arrayLength<font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ebx</font><br>
sum&nbsp;=&nbsp;t<font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
i<font color="#339933">++</font><font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><br>
if&nbsp;<font color="#009900">(</font>i&nbsp;&lt;&nbsp;arrayLength<font color="#009900">)</font>&nbsp;goto&nbsp;<font color="#00007f">loop</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">ebx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jg</font>&nbsp;&nbsp;&nbsp;<font color="#00007f">loop</font><br>
return&nbsp;sum<font color="#666666">;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
</td>
<td>WithVariable()<br>
<font color="#00007f">int</font>&nbsp;sum&nbsp;=&nbsp;<font color="#ff0000">0</font><font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#00007f">int</font><font color="#009900">[</font><font color="#009900">]</font>&nbsp;localRefToArray&nbsp;=&nbsp;this<font color="#339933">.</font>array<font color="#666666">;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#00007f">int</font>&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray<font color="#339933">.</font>Length<font color="#666666">;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ebx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#00007f">int</font>&nbsp;i&nbsp;=&nbsp;<font color="#ff0000">0</font><font color="#666666">;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ecx</font><br>
if&nbsp;<font color="#009900">(</font>arrayLength&nbsp;==&nbsp;<font color="#ff0000">0</font><font color="#009900">)</font>&nbsp;<font color="#009900">(</font>return&nbsp;sum<font color="#666666">;)&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;&nbsp;<font color="#46aa03">ebx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ebx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#00007f">int</font>&nbsp;arrayLength2&nbsp;=&nbsp;localRefToArray<font color="#339933">.</font>Length<font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
if&nbsp;<font color="#009900">(</font>i&nbsp;&gt;=&nbsp;arrayLength2<font color="#009900">)</font><br>
&nbsp;throw&nbsp;new&nbsp;IndexOutOfRangeException<font color="#009900">(</font><font color="#009900">)</font><font color="#666666">;</font><br>
&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jae</font>&nbsp;&nbsp;04b12d39<br>
<font color="#00007f">int</font>&nbsp;t&nbsp;=&nbsp;array<font color="#009900">[</font>i<font color="#009900">]</font><font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#46aa03">ecx</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
t&nbsp;<font color="#339933">+</font>=&nbsp;sum<font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
t<font color="#339933">+</font>=&nbsp;arrayLength<font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ebx</font><br>
sum&nbsp;=&nbsp;t<font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
i<font color="#339933">++</font><font color="#666666">;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><br>
if&nbsp;<font color="#009900">(</font>i&nbsp;&lt;&nbsp;arrayLength<font color="#009900">)</font>&nbsp;goto&nbsp;<font color="#00007f">loop</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ebx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jl</font>&nbsp;&nbsp;&nbsp;<font color="#00007f">loop</font><br>
return&nbsp;sum<font color="#666666">;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
</td>
</tr>
</tbody></table><br>
<div class="spoiler"><b class="spoiler_title">–°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤ Meld</b><div class="spoiler_text"><img src="https://habrastorage.org/webt/co/8z/ix/co8zixjrk_p7fexmgmyhs1xfqqa.png"><br>
</div></div><br>
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —É —ç—Ç–∏—Ö –¥–≤—É—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —Å–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ—á—Ç–∏ –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ, –æ–ø—è—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ –ø–æ—Ä—è–¥–∫–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∞. –ü—Ä–∏—á—ë–º –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ —Ä–∞—Å—á—ë—Ç–µ sum —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ—Ç array.Length, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤–∑—è—Ç —Å–∞–º—ã–º –ø–µ—Ä–≤—ã–º. –û—á–µ–≤–∏–¥–Ω–æ —á—Ç–æ –≤–æ—Ç —ç—Ç–æ:<br>
<blockquote><font color="#00007f">int</font>&nbsp;arrayLength2&nbsp;=&nbsp;localRefToArray<font color="#339933">.</font>Length<font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
if&nbsp;<font color="#009900">(</font>i&nbsp;&gt;=arrayLength2<font color="#009900">)</font>&nbsp;throw&nbsp;new&nbsp;IndexOutOfRangeException<font color="#009900">(</font><font color="#009900">)</font><font color="#666666">;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jae</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;04b12d39</blockquote>–≤–æ –≤—Å–µ—Ö —á–µ—Ç—ã—Ä—ë—Ö –º–µ—Ç–æ–¥–∞—Ö ‚Äî –∑–∞–∏–Ω–ª–∞–π–Ω–∏–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞—Å—Å–∏–≤–∞ –∏ –æ–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞.<br>
<br>
<i>–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —É–∂–µ –ø–µ—Ä–≤—ã–π –≤—ã–≤–æ–¥ –æ —Ç–æ–º, —á—Ç–æ –∑–∞–≤–æ–¥–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —á—Ç–æ–±—ã –ø—ã—Ç–∞—Ç—å—Å—è —É—Å–∫–æ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–∏–∫–ª–∞ —ç—Ç–æ –ø—É—Å—Ç–∞—è —Ç—Ä–∞—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏, —Ç.–∫. –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—Å—ë —Å–¥–µ–ª–∞–µ—Ç –∑–∞ –Ω–∞—Å. –ó–∞–≤–æ–¥–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –¥–ª–∏–Ω–æ–π —Ü–∏–∫–ª–∞ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞.</i><br>
<br>
–°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Å ForEach. –í–æ–∑—å–º—ë–º —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞:<br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithoutLength</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {
        sum += i;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithoutLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {
        sum += i + array.Length;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;
    <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {
        sum += i + length;
    }
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum;
}</code></pre><br>
–ò –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∏—Ö –∫–æ–¥ –ø–æ—Å–ª–µ JIT:<br>
<br>
<div class="spoiler"><b class="spoiler_title">ForEachWithoutLength()</b><div class="spoiler_text"><font color="#666666">;int&nbsp;sum&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#666666">;int[]&nbsp;localRefToArray&nbsp;=&nbsp;this.array;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;i&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edx</font><br>
<font color="#666666">;int&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray.Length;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;if&nbsp;(arrayLength&nbsp;==&nbsp;0)&nbsp;goto&nbsp;exit;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#666666">;int&nbsp;t&nbsp;=&nbsp;array[i];</font><br>
&nbsp;&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#46aa03">edx</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
<font color="#666666">;sum+=i;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
<font color="#666666">;i++;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><br>
<font color="#666666">;if&nbsp;(i&nbsp;&lt;&nbsp;arrayLength)&nbsp;goto&nbsp;loop</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jg</font>&nbsp;&nbsp;<font color="#00007f">loop</font><br>
<font color="#666666">;return&nbsp;sum;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font></div></div><br>
<div class="spoiler"><b class="spoiler_title">ForEachWithLengthWithoutLocalVariable()</b><div class="spoiler_text"><font color="#666666">;int&nbsp;sum&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#666666">;int[]&nbsp;localRefToArray&nbsp;=&nbsp;this.array;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;i&nbsp;=&nbsp;0;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edx</font><br>
<font color="#666666">;int&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray.Length;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;if&nbsp;(arrayLength&nbsp;==&nbsp;0)&nbsp;goto&nbsp;exit</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#666666">;int&nbsp;t&nbsp;=&nbsp;array[i];&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#46aa03">edx</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
<font color="#666666">;sum+=i;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
<font color="#666666">;sum+=localRefToArray.Length;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;i++;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><br>
<font color="#666666">;if&nbsp;(i&nbsp;&lt;&nbsp;arrayLength)&nbsp;goto&nbsp;loop&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jg</font>&nbsp;&nbsp;<font color="#00007f">loop</font><br>
<font color="#666666">;return&nbsp;sum;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font></div></div><br>
<div class="spoiler"><b class="spoiler_title">ForEachWithLengthWithLocalVariable()</b><div class="spoiler_text"><font color="#666666">;int&nbsp;sum&nbsp;=&nbsp;0;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font><br>
<font color="#666666">;int[]&nbsp;localRefToArray&nbsp;=&nbsp;this.array;&nbsp;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">ecx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;length&nbsp;=&nbsp;localRefToArray.Length;&nbsp;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">ebx</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;int&nbsp;i&nbsp;=&nbsp;0;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">xor</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ecx</font><br>
<font color="#666666">;int&nbsp;arrayLength&nbsp;=&nbsp;localRefToArray.Length;&nbsp;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#ff0000">4</font><font color="#009900">]</font><br>
<font color="#666666">;if&nbsp;(arrayLength&nbsp;==&nbsp;0)&nbsp;goto&nbsp;exit;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">test</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">edi</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jle</font>&nbsp;&nbsp;exit<br>
<font color="#666666">;int&nbsp;t&nbsp;=&nbsp;array[i];&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;<font color="#00007f">loop</font><font color="#339933">:</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#0000ff">dword</font>&nbsp;ptr&nbsp;<font color="#009900">[</font><font color="#46aa03">edx</font><font color="#339933">+</font><font color="#46aa03">ecx</font><font color="#339933">*</font><font color="#ff0000">4</font><font color="#339933">+</font><font color="#ff0000">8</font><font color="#009900">]</font><br>
<font color="#666666">;sum+=i;&nbsp;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">eax</font><br>
<font color="#666666">;sum+=length&nbsp;;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">add</font>&nbsp;&nbsp;<font color="#46aa03">esi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ebx</font><br>
<font color="#666666">;i++;&nbsp;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">inc</font>&nbsp;&nbsp;<font color="#46aa03">ecx</font><br>
<font color="#666666">;if&nbsp;(i&nbsp;&lt;&nbsp;arrayLength)&nbsp;goto&nbsp;loop</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">cmp</font>&nbsp;&nbsp;<font color="#46aa03">edi</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">ecx</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">jg</font>&nbsp;&nbsp;<font color="#00007f">loop</font><br>
<font color="#666666">;return&nbsp;sum;</font><br>
&nbsp;&nbsp;exit<font color="#339933">:</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00007f">mov</font>&nbsp;&nbsp;<font color="#46aa03">eax</font><font color="#339933">,</font>&nbsp;<font color="#46aa03">esi</font></div></div><br>
–ü–µ—Ä–≤–æ–µ —á—Ç–æ –±—Ä–æ—Å–∞–µ—Ç—Å—è –≤ –≥–ª–∞–∑–∞ —ç—Ç–æ —Ç–æ, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å –º–µ–Ω—å—à–µ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ü–∏–∫–ª–æ–º for (–Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤—ã—à–ª–æ –≤ foreach 12 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –≤ for 15).<br>
<br>
<div class="spoiler"><b class="spoiler_title">–°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è For –∏ ForEach</b><div class="spoiler_text"><img src="https://habrastorage.org/webt/mw/ga/qy/mwgaqykzztnhwmztdcg4ns5thwa.png"><br>
</div></div><br>
–í —Å–∞–º–æ–º –¥–µ–ª–µ, –µ—Å–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –±–µ–Ω—á–º–∞—Ä–∫ for vs foreach –Ω–∞ 1 000 000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞, —Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è —Ç–∞–∫–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –¥–ª—è <br>
<br>
<pre><code class="cs hljs">sum+=array[i];</code></pre><table>
<tbody><tr>
<td>Method</td>
<td>ItemsCount</td>
<td>Mean</td>
<td>Error</td>
<td>StdDev</td>
<td>Median</td>
<td>Ratio</td>
<td>RatioSD</td>
</tr>
<tr>
<td>ForEach</td>
<td>1000000</td>
<td>1.401 ms</td>
<td>0.2691 ms</td>
<td>0.7935 ms</td>
<td>1.694 ms</td>
<td>1.00</td>
<td>0.00</td>
</tr>
<tr>
<td>For</td>
<td>1000000</td>
<td>1.586 ms</td>
<td>0.3204 ms</td>
<td>0.9447 ms</td>
<td>1.740 ms</td>
<td>1.23</td>
<td>0.65</td>
</tr>
</tbody></table>–∏ –¥–ª—è <br>
<br>
<pre><code class="cs hljs">sum+=array[i] + array.Length;</code></pre><table>
<tbody><tr>
<td>Method</td>
<td>ItemsCount</td>
<td>Mean</td>
<td>Error</td>
<td>StdDev</td>
<td>Median</td>
<td>Ratio</td>
<td>RatioSD</td>
</tr>
<tr>
<td>ForEach</td>
<td>1000000</td>
<td>1.703 ms</td>
<td>0.3010 ms</td>
<td>0.8874 ms</td>
<td>1.726 ms</td>
<td>1.00</td>
<td>0.00</td>
</tr>
<tr>
<td>For</td>
<td>1000000</td>
<td>1.715 ms</td>
<td>0.2859 ms</td>
<td>0.8430 ms</td>
<td>1.956 ms</td>
<td>1.13</td>
<td>0.56</td>
</tr>
</tbody></table>ForEach –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ —á–µ–º For. –ü–æ—á–µ–º—É —Ç–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç? –ß—Ç–æ–±—ã —ç—Ç–æ –ø–æ–Ω—è—Ç—å –Ω—É–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∫–æ–¥ –ø–æ—Å–ª–µ JIT.<br>
<br>
<div class="spoiler"><b class="spoiler_title">–°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç—Ä—ë—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ foreach</b><div class="spoiler_text"><img src="https://habrastorage.org/webt/ae/wx/5s/aewx5szyufp55plv9zsq2wznplq.png"><br>
</div></div><br>
–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ ForEachWithoutLength. –í –Ω—ë–º –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∏ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ –≤—ã—Ö–æ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞—Å—Å–∏–≤–∞. –¢–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ —Ü–∏–∫–ª ForEach –≤–æ-–ø–µ—Ä–≤—ã—Ö –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞, –∞ –≤–æ-–≤—Ç–æ—Ä—ã—Ö —Ç–æ—á–Ω–æ –Ω–µ –±—É–¥–µ—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ JIT –º–æ–∂–µ—Ç —Å–µ–±–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –≤–æ–æ–±—â–µ —É–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –º–∞—Å—Å–∏–≤–∞.<br>
<br>
–¢–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –º–µ—Ç–æ–¥ ForEachWithLengthWithoutLocalVariable. –í –µ–≥–æ –∫–æ–¥–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å—Ç—Ä–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ —Ç–æ–º, —á—Ç–æ sum+=length –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Ä–∞–Ω–µ–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π arrayLength, –∞ —Å –Ω–æ–≤–æ–π, –∫–æ—Ç–æ—Ä—É—é –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∏–∑ –ø–∞–º—è—Ç–∏. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ø–∞–º—è—Ç–∏ –∑–∞ –¥–ª–∏–Ω–æ–π –º–∞—Å—Å–∏–≤–∞ –±—É–¥–µ—Ç N + 1, –≥–¥–µ N ‚Äî –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞.<br>
<br>
–û—Å—Ç–∞–ª–æ—Å—å —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç–æ–¥ ForEachWithLengthWithLocalVariable. –ï–≥–æ –∫–æ–¥ –Ω–∏—á–µ–º –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç ForEachWithLengthWithoutLocalVariable, –∫—Ä–æ–º–µ —Ä–∞–±–æ—Ç—ã —Å –¥–ª–∏–Ω–Ω–æ–π –º–∞—Å—Å–∏–≤–∞. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –æ–ø—è—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é arrayLength, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –º–∞—Å—Å–∏–≤ –Ω–µ –ø—É—Å—Ç–æ–π, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —á–µ—Å—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª –Ω–∞—à—É —è–≤–Ω—É—é –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é length –∏ —Å–ª–æ–∂–µ–Ω–∏–µ –≤ —Ç–µ–ª–µ —Ü–∏–∫–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–∂–µ —Å –Ω–µ–π. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—Å–µ–≥–æ –¥–≤–∞–∂–¥—ã –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø–∞–º—è—Ç–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª–∏–Ω—ã –º–∞—Å—Å–∏–≤–∞. –≠—Ç—É —Ä–∞–∑–Ω–∏—Ü—É –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å.<br>
<br>
–ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –ø–æ–ª—É—á–∏–ª—Å—è —Ç–∞–∫–æ–π –ø—Ä–æ—Å—Ç–æ–π –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∞–º–∏ –º–µ—Ç–æ–¥—ã –ø—Ä–æ—Å—Ç—ã–µ. –ë—É–¥—å –≤ –º–µ—Ç–æ–¥–µ –±–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–∞–º –±—ã–ª–∞ –±—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–µ–∫–æ–º, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –±—ã –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö –∏ –≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –±–æ–ª—å—à–µ –ø—Ä–æ–≤–µ—Ä–æ–∫, –Ω–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –±—ã —Ç–∞–∫–∞—è –∂–µ: –≤–≤–µ–¥–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å –¥–ª–∏–Ω–æ–π –º–∞—Å—Å–∏–≤–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ Foreach –ø–æ –º–∞—Å—Å–∏–≤—É —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ —á–µ–º For.</div><p>Source: <a href="https://habr.com/ru/post/434060/">https://habr.com/ru/post/434060/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>