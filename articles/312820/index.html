<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Site to Zone Assignment list and Internet Explorer with Enhanced Security Configuration enabled</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently encountered the problem that IE did not want to properly accept the local group policy settings of the Site to Zone Assignment list. The pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Site to Zone Assignment list and Internet Explorer with Enhanced Security Configuration enabled</h1><div class="post__text post__text-html js-mediator-article">  I recently encountered the problem that IE did not want to properly accept the local group policy settings of the Site to Zone Assignment list.  The problem manifested itself as follows: <br>  With unconfigured policy, the list of trusted sites was by default, which is logical. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/aa1/0ec/ca7/aa10ecca7a9c4ddb9ba844e6f9cbf1ba.jpg"></div><br>  When configured, it is empty. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9fa/363/f52/9fa363f5264449b9a3aa0334ee61cbe2.JPG"></div><br><a name="habracut"></a><br>  At the same time, the policy itself was not at all empty. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6f2/eb5/fb9/6f2eb5fb9f664eada13b6bf7cc62b40a.JPG"></div><br>  As it turned out - the policy was applied correctly only if the ESC mode was disabled.  Now it was necessary to figure out how to make the policy work even with ESC enabled.  Unfortunately, googling did not lead to anything, since the majority prefer to disable ESC and, accordingly, do not run into this problem.  Fortunately, there was <a href="https://blogs.msdn.microsoft.com/askie/2012/06/05/how-to-configure-internet-explorer-security-zone-sites-using-group-polices/">an article</a> from which it followed that IE stores information about linking sites to zones in different registry branches, depending on whether ESC is enabled or not.  It was decided to compare the group policy registry key scheme and the usual IE settings.  In the same article were listed as a branch of the registry settings IE: <br><br><pre><code class="hljs tex">HKEY_CURRENT_USER<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Software</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Microsoft</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Windows</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CurrentVersion</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Internet</span></span></span></span> Settings<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ZoneMap</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span></span></code> </pre> <br>  So is the group policy settings registry branch: <br><br><pre> <code class="hljs tex"> HKLM<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SOFTWARE</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Policies</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Microsoft</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Windows</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CurrentVersion</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Internet</span></span></span></span> Settings<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ZoneMap</span></span></span></span></code> </pre> <br>  It was discovered that IE settings include two sub-branches: Domains and EscDomains. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/356/879/ced/356879cedcad4eef8bcfb2ff793af1ea.jpg"></div><br>  At the same time, the Group Policy branch can only boast the Domains branch, and EscDomains is missing. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/791/2ff/938/7912ff9389b44eeaa2f5432366aa3685.jpg"></div><br>  It was decided to repeat the structure of Domains branches and keys in the manually created branch of EscDomains. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bfc/69c/a79/bfc69ca79c1e45af83e1607c194fc57d.jpg"></div><br>  Check - the problem is solved. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/3dd/f4a/054/3ddf4a0548ca4160b477e6ed3b09f538.jpg"></div></div><p>Source: <a href="https://habr.com/ru/post/312820/">https://habr.com/ru/post/312820/</a></p>
<section class="all-articles-navigation-panel js-all-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>