<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP class for displaying color text to the console</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I made for myself a script for the site deployment for production. For what it was necessary to display what is happening on the screen. And to make i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <div class="page-header-logo-container"></div>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP class for displaying color text to the console</h1><div class="post__text post__text-html js-mediator-article"><p>  I made for myself a script for the site deployment for production.  For what it was necessary to display what is happening on the screen.  And to make it clearer decided to display in color.  However, I could not find something suitable.  Maximum library output color text, but did not support indents.  Therefore, I made my own library for this.  Perhaps someone will be useful.  A small (but functional) library for displaying colored text on the console with indentation support in this form </p><br><pre><code class="php hljs">Console::indent(<span class="hljs-number"><span class="hljs-number">2</span></span>)-&gt;color(<span class="hljs-string"><span class="hljs-string">'brown'</span></span>)-&gt;bgcolor(<span class="hljs-string"><span class="hljs-string">'magenta'</span></span>)-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'–ü—Ä–∏–≤–µ—Ç Habr!'</span></span>);</code> </pre> <br><p><img src="https://habrastorage.org/webt/sa/v6/_4/sav6_4d8fwqioefqke6ihbnaeja.png"></p><a name="habracut"></a><br><ol><li>  Installation </li><li>  Using </li><li>  Indent </li><li>  Styles </li><li>  Logging </li><li>  Syntactic sugar </li></ol><br><h3 id="ustanovka">  Installation </h3><br><p>  To install, you can use composer </p><br><pre> <code class="bash hljs">composer require shasoft/console</code> </pre> <br><p>  or download from <a href="https://github.com/shasoft/console">github</a> </p><br><h3 id="ispolzovanie">  Using </h3><br><p>  List of all supported colors.  The column names are the background colors, the row names are the text colors. <br><img src="https://habrastorage.org/webt/t1/rn/qg/t1rnqgrn86cty3zpq0olghqj2ym.png" alt="Example of color text output"></p><br><p>  Color text output </p><br><ul><li>  Function <strong>color</strong> ( <em>value</em> ) - set the text color </li><li>  <strong>Bgcolor</strong> function ( <em>value</em> ) - set the background color </li><li>  The <strong>write</strong> function ( <em>value1</em> , <em>value2</em> , <em>...</em> ) - display the value on the screen.  If the <em>value is</em> not a string, then it is converted to a string using the php function <a href="http://php.net/manual/ru/function.var-export.php">var_export</a> ( <em>value</em> , <em>true</em> ) </li><li>  Function <strong>reset</strong> () - reset colors to default values </li><li>  The <strong>setDefault</strong> () function <strong>sets</strong> default colors.  Default values: background color = black, text color = white </li><li>  The <strong>enter</strong> function ( <em>$ resetColor</em> = true).  By default, a function call resets colors to default values.  Note that the string is not displayed until the enter () function is called.  This is due to the fact that the library supports indentation. </li><li>  Function <strong>writeln</strong> ( <em>...</em> ) - write ( <em>...</em> ) + enter () </li></ul><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Shasoft</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>; <span class="hljs-comment"><span class="hljs-comment">// –í—ã–≤–æ–¥ —Ü–≤–µ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ —Å—Ç—Ä–æ–∫–µ Console::color('red')-&gt;bgcolor('green')-&gt;write('–ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –∑–µ–ª–µ–Ω–æ–º —Ñ–æ–Ω–µ')-&gt;enter(); // –í—ã–≤–æ–¥ —Ü–≤–µ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ —Å—Ç—Ä–æ–∫–µ Console::color('green')-&gt;bgcolor('red')-&gt;writeln('–ó–µ–ª–µ–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –∫—Ä–∞—Å–Ω–æ–º —Ñ–æ–Ω–µ'); // –í—ã–≤–æ–¥ —Ü–≤–µ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ —Å—Ç—Ä–æ–∫–µ Console::color('red')-&gt;bgcolor('white')-&gt;write('–ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –±–µ–ª–æ–º —Ñ–æ–Ω–µ —Ñ–æ–Ω–µ')-&gt;reset()-&gt;writeln('–í—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Ü–≤–µ—Ç–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');</span></span></code> </pre> <br><h3 id="otstupy">  Indentation </h3><br><p>  To work with indents, use the <strong>indent</strong> function ( <strong>indent</strong> <em>value</em> [, <em>absolute value</em> ]) - if the second parameter is specified and it is = true, then the indent is absolute.  Otherwise, the indent is relative.  To get the current indent, call the indent () function with no parameters. </p><br><p>  Example: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Shasoft</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>; Console::indent(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// –û—Ç—Å—Ç—É–ø 0 Console::indent(1)-&gt;color('red')-&gt;writeln('–û—Ç—Å—Ç—É–ø 1'); Console::indent(3,true)-&gt;color('green')-&gt;writeln('–û—Ç—Å—Ç—É–ø 3'); Console::indent(-1)-&gt;color('blue')-&gt;writeln('–û—Ç—Å—Ç—É–ø 2');</span></span></code> </pre> <br><pre> <code class="plaintext hljs">–ö –ø—Ä–∏–º–µ—Ä—É –±—ã–ª –æ—Ç—Å—Ç—É–ø = 2 indent(1) –û—Ç—Å—Ç—É–ø = 3 –ö –ø—Ä–∏–º–µ—Ä—É –±—ã–ª –æ—Ç—Å—Ç—É–ø = 2 indent(-1) –û—Ç—Å—Ç—É–ø = 2 –ö –ø—Ä–∏–º–µ—Ä—É –±—ã–ª –æ—Ç—Å—Ç—É–ø = 2 indent(10) –û—Ç—Å—Ç—É–ø = 10 –ö –ø—Ä–∏–º–µ—Ä—É –±—ã–ª –æ—Ç—Å—Ç—É–ø = 2 indent(1) –û—Ç—Å—Ç—É–ø = 1</code> </pre> <br><p>  conclusion: <img src="https://habrastorage.org/webt/pz/in/jr/pzinjreskzc_qwljzldshs4lwhu.png" alt="Indented example output"></p><br><ul><li>  The <strong>setTabSize</strong> function ( <em>tab size</em> ) sets the tab size.  Default = 3 </li><li>  Function <strong>setSpace</strong> ( <em>symbol</em> ) - sets the tab character.  Default = '' (space) </li></ul><br><p>  the indent function is applied to the output STRING and the value will change until the enter () function is called.  Those.  this code will indent 3 </p><br><pre> <code class="php hljs">Console::indent(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)-&gt;color(<span class="hljs-string"><span class="hljs-string">'red'</span></span>)-&gt;indent(<span class="hljs-number"><span class="hljs-number">1</span></span>)-&gt;bgcolor(<span class="hljs-string"><span class="hljs-string">'blue'</span></span>)-&gt;indent(<span class="hljs-number"><span class="hljs-number">1</span></span>)-&gt;write(<span class="hljs-string"><span class="hljs-string">'–û—Ç—Å—Ç—É–ø 3'</span></span>)-&gt;indent(<span class="hljs-number"><span class="hljs-number">1</span></span>)-&gt;enter();</code> </pre> <br><h3 id="stili">  Styles </h3><br><p>  You can specify styles.  The default error style is "error" </p><br><ul><li>  <strong>SetStyle</strong> function ( <em>style name</em> , <em>text color</em> = null, <em>background color</em> = null) - set the style parameters </li><li>  Function <strong>style</strong> ( <strong>style</strong> <em>name</em> ) - use the specified style </li></ul><br><p>  Usage example: </p><br><pre> <code class="php hljs">Console::indent(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)-&gt;style(<span class="hljs-string"><span class="hljs-string">"error"</span></span>)-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'–ö–∞–∫–∞—è-—Ç–æ –æ—à–∏–±–∫–∞'</span></span>);</code> </pre> <br><p>  conclusion: <img src="https://habrastorage.org/getpro/habr/post_images/4bc/cc9/e65/4bccc9e6543486cd494f1482e0c032b3.png" alt="Style Example"></p><br><h3 id="logirovanie">  Logging </h3><br><p>  There are special functions to control logging. </p><br><ul><li>  <strong>SetLogLevel</strong> function ( <em>$ value</em> = null) - Set / get the global logging level.  Default = 0 </li><li>  Function <strong>logLevel</strong> ( <em>$ value</em> = null) - Set / get logging level.  Default = 0 </li></ul><br><p>  Values ‚Äã‚Äãare displayed using the write () function only if the current logging level is less than the global logging level. </p><br><p>  Example: </p><br><pre> <code class="php hljs">Console::setLogLevel(<span class="hljs-number"><span class="hljs-number">0</span></span>)-&gt;logLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>)-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'–ù–µ –≤—ã–≤–µ–¥–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è = 1 –∫–æ—Ç–æ—Ä—ã–π –±–æ–ª—å—à–µ 0'</span></span>); Console::setLogLevel(<span class="hljs-number"><span class="hljs-number">2</span></span>)-&gt;logLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>)-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'–í—ã–≤–µ–¥–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è = 1 –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—å—à–µ-—Ä–∞–≤–µ–Ω 2'</span></span>); Console::setLogLevel(<span class="hljs-number"><span class="hljs-number">2</span></span>)-&gt;logLevel(<span class="hljs-number"><span class="hljs-number">3</span></span>)-&gt;write(<span class="hljs-string"><span class="hljs-string">'–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –Ω–µ –≤—ã–≤–µ–¥–µ—Ç—Å—è'</span></span>)-&gt;logLevel(<span class="hljs-number"><span class="hljs-number">1</span></span>)-&gt;write(<span class="hljs-string"><span class="hljs-string">'–¢–µ–∫—Å—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ'</span></span>)-&gt;enter();</code> </pre> <br><h3 id="sintaksicheskiy-sahar">  Syntactic sugar </h3><br><p>  Not to write color ('red') -&gt; bgcolor ('green') you can write in short </p><br><pre> <code class="php hljs">Console::red()-&gt;bg_green()-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'–°—Ç—Ä–æ–∫–∞ –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –Ω–∞ –∑–µ–ª–µ–Ω–æ–º —Ñ–æ–Ω–µ.'</span></span>);</code> </pre> <br><p>  Background color can be set by function without underlining.  However, it visually separates the color from the prefix and, in my opinion, is very convenient. </p><br><p>  <a href="http://shasoft.com/article/klass_php_dlya_vyvoda_v_konsol_tsvetnogo_teksta">Library page</a> </p><br><p>  <strong>upd</strong> : since I was pointed out an error in the name of the ident function instead of <strong>indent</strong> , I fixed it so as not to embarrass those who know English well :) </p></div><p>Source: <a href="https://habr.com/ru/post/432242/">https://habr.com/ru/post/432242/</a></p>
<section class="navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>
</body>

</html>