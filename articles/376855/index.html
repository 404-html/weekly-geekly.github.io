<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Notifications from Facebook in UC Browser</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, a new feature appeared in UC Browser - Facebook notification, and in this article we want to share with you some details. So, Faceboo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Notifications from Facebook in UC Browser</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago, a new feature appeared in UC Browser - Facebook notification, and in this article we want to share with you some details.  So, Facebook notification is a feature that allows you to receive messages and notifications from Facebook, even if your browser is closed.  The user will receive push messages on the main screen of his phone and thus will not miss any important messages. <br><br>  The basis for the implementation of this function was taken all known service - Google Cloud Messaging (GCM) and OAuth protocol. <br><a name="habracut"></a><br><br>  In this diagram, we can see how the process of receiving notification occurs: <br><img src="https://habrastorage.org/files/c90/769/11a/c9076911aa46498cb620ac2dd1c67138.png"><br><br>  Step by step it looks like this: <br><br>  Entrance: <br>  1. The user logs in to Facebook. <br>  2. Add-on "Better FB" will detect and check the status of cookies after the user has logged in to FB. <br>  3. Add-on OAuth logs in the FB to get the user_access_token.  The user will have to give permission to receive information. <br>  4. Add-on is registered in the GCM and receives a registration ID (push_token). <br>  5. Add-on is registered in FB using push_token. <br>  6. FB starts sending GCM notifications using push_token. <br><br>  Notifications stop as follows: <br>  1. User logs out of Facebook. <br>  2. Add-on "Better FB" detects that cookies are not available. <br>  3. Add-on unregisters with GCM and cancels push_token. <br>  4. Add-on unregisters with FB using push_token. <br>  5. FB stops sending GCM notifications using push_token <br><br>  API Push Notifications <br><br>  Register access token: <br>  <a href="https://api.facebook.com/method/user.registerPushCallback%3Fprotocol_params%3D">api.facebook.com/method/user.registerPushCallback?protocol_params=</a> {"token": "&lt;push_token&gt;", "app_version": "&lt;app_version&gt;"} &amp; access_token = &lt;user_access_token&gt; <br><br>  Unregistering an access token: <br>  <a href="https://api.facebook.com/method/user.unregisterPushCallback%3Fprotocol_params%3D">api.facebook.com/method/user.unregisterPushCallback?protocol_params=</a> {"token": "&lt;push_token&gt;‚Äù} &amp; access_token = &lt;user_access_token&gt; <br><br>  Suspend / Resume Token: <br>  <a href="https://api.facebook.com/method/user.registerPushCallback%3Fprotocol_params%3D">api.facebook.com/method/user.registerPushCallback?protocol_params=</a> {"token": "&lt;push_token&gt;", "app_version": "&lt;app_version&gt;", ‚Äùhas_alerts_off‚Äù: true} &amp; access_token = &lt;user_access_token&gt; <br><br>  In a browser, it looks like this: <br>  Go to the Browser Menu, and then go to Add-ons. <br><br><img src="https://habrastorage.org/files/294/5f7/18a/2945f718a40449259c80e13d97e6ffda.png"><br><br><img src="https://habrastorage.org/files/d55/586/1f6/d555861f6c8b4f7bab15239a58214855.png"><br><br>  Next, click on the Facebook icon and enable the Notifications feature. <br><br><img src="https://habrastorage.org/files/ed2/574/20f/ed257420f60b4c508ccdc82dddbc322b.png"><br><br><img src="https://habrastorage.org/files/c72/ac7/886/c72ac78866724b24b608f47a6ebccc8b.png"><br><br>  Login on your Facebook page. <br><br><img src="https://habrastorage.org/files/443/e29/83a/443e2983a70c47a29b7d980492a10cea.png"><br><br>  After logging in to Facebook, we confirm permission to receive notifications. <br><br><img src="https://habrastorage.org/files/25b/511/8a2/25b5118a2e9949f196676a7d26b956fc.png"><br><br>  Done, you can receive notifications. <br><br>  It should be noted that the function was implemented thanks to the close cooperation of UCWeb with Facebook.  This is the first time that a company gives access to online alerts in a third-party application.  Such a partnership of companies proves the strong commitment of UC Browser to its goal of making a convenient browser for every day.  Innovation especially appeal to those who prefer to use one application for most tasks in the browser. <br><br>  PS We can not report another important news.  Most recently, UC Browser reached 100 million active users per day (DAU) and became the world's largest independent mobile browser: according to StatCounter, UC Browser increased its market share in page views to 11.1%.  In Russia over the past year, the number of daily active users has almost tripled, and the number of page views (PV) is 125%.  In January, UC Browser also became the number one browser on Google Play in Russia and ranked third among the top free apps. </div><p>Source: <a href="https://habr.com/ru/post/376855/">https://habr.com/ru/post/376855/</a></p>
<section class="all-articles-navigation-panel js-all-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>