<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automate CleanTalk Anti-Spam Updates for WordPress</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you serve a couple of sites, then updating the plugins does not cause any difficulties. Difficulties arise if you serve dozens or even hundreds of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automate CleanTalk Anti-Spam Updates for WordPress</h1><div class="post__text post__text-html js-mediator-article">  If you serve a couple of sites, then updating the plugins does not cause any difficulties.  Difficulties arise if you serve dozens or even hundreds of sites. <br><br>  CleanTalk Antispam requires frequent updates (we have to release a new version every 1-2 weeks), there are many reasons for this. <br><br>  WordPress, as a designer, has a huge variety of plugins, themes, widgets, etc.  which are not always designed with WordPress Codex into account, have different architecture and event handling.  Therefore, CleanTalk integration errors may occur with different components, especially rare ones. <br><a name="habracut"></a><br>  Each complex service that uses a large amount of data, a change in the backend, changes in logic and a lot of other things require changes in the plugin. <br><br>  With our update frequency for the plugin, the auto-update option is required.  If this option is done in the plugin settings, then still the user will need to go to each site in the plugin settings and install it.  But what to do in a situation when the user does not want to enable auto-update, and you need to update the plugin immediately on hundreds of sites? <br><br>  For the convenience of managing the service, the auto-update option was implemented in the Service Control Panel. <br><br>  Auto-update allows you to update the plugin one-time on one site, group of sites, or enable auto-update on all sites. <br><br><h4>  How it works </h4><br>  Historically, we control the version of the plug-in used by the client, and when contacting clients and analyzing feedback, we need to know the version of the plug-in used.  Each anti-spam plugin, with each request, sends its version in the parameters.  The version number is compared with the number in the repository, and if the versions are different, then in the Control Panel we show a warning about the need for updating. <br><br><img src="https://habrastorage.org/webt/4q/kh/qi/4qkhqiso2btlarmt1hbog8xthxi.png" alt="image"><br><br>  Further, when clicking on a link, a modal window opens with options for updates. <br><br><img src="https://habrastorage.org/webt/ip/1s/a6/ip1sa6vrip0jig-2rorlbhtty7u.png" alt="image"><br><br>  When selecting the option, the server makes a special request to the plugin on the client's site. <br><br>  The plug-in, having received the call, checks the call parameters for authenticity and starts work.  Auto-update is implemented through a modified class of auto-update plug-ins Wordpress.  After completion of the class, the plugin checks the version of the updated files and makes a request for the site (on itself).  If the HTTP response code is 200, then it reports to the server by displaying ‚ÄúOK‚Äù on the page and makes a special API call, reporting on the new version.  If the response code is different from 200, then the plugin rolls back files to the previous version and responds to the north with a line with an error code and technical parameters. <br><br>  After a successful update, the status in the Service Control Panel changes to ‚ÄúApp has been updated‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/350294/">https://habr.com/ru/post/350294/</a></p>
<section class="all-articles-navigation-panel js-all-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><p>Waiting for the list form <a href="../../index.html">here</a>...</p></nav>
</section>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>